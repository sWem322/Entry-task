const boredApi="https://www.boredapi.com/api/activity";let num=1;async function addCart(){for(let e=1;e<=4;e++){let e=await fetch(boredApi),t=await e.json(),{activity:n,type:l}=t,r=document.createElement("div");r.classList.add("wireframe__element");let d=document.createElement("div");d.classList.add("wireframe__text");let i=document.createTextNode(`${n}`);d.appendChild(i);let a=document.createElement("div");a.classList.add("wireframe__comment");let c=document.createTextNode(`${l}`);if(a.appendChild(c),r.appendChild(d),r.appendChild(a),!(document.querySelectorAll(".choice>.wireframe__element").length<4))return;document.querySelector(".choice").appendChild(r)}}function countCartInMyList(e){let t=document.querySelector(".wireframe__number");e.children.length>0?(num<=1&&(num=1),t.textContent=`${num} / ${e.children.length}`):t.textContent=""}function challengeFinish(e,t){let n=document.querySelector(".wireframe__title_element").lastElementChild,l=document.createElement("div"),r=document.createTextNode(e);l.appendChild(r),n.appendChild(l);let d=document.querySelector(".wireframe__type_element").lastElementChild,i=document.createElement("div"),a=document.createTextNode(t);i.appendChild(a),d.appendChild(i);let c=new Date,m=c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate(),o=c.getHours()+":"+c.getMinutes();c.getMinutes()<=9&&(o=c.getHours()+":0"+c.getMinutes());let u=m+" "+o,s=document.querySelector(".wireframe__time_element").lastElementChild,h=document.createElement("div"),p=document.createTextNode(u);h.appendChild(p),s.appendChild(h);let C=document.querySelector(".wireframe__number_element").lastElementChild,_=document.createElement("div");if(null==C.lastElementChild){let e=document.createTextNode(1);_.appendChild(e),C.appendChild(_)}else{let e=parseInt(C.lastElementChild.textContent)+1,t=document.createTextNode(e);_.appendChild(t),C.appendChild(_)}}addCart();let ideasBlock=document.getElementById("ideas");ideasBlock.addEventListener("click",(e=>{let t=e.target;if(t.parentElement.classList.contains("wireframe__element")){let e=document.querySelector(".wireframe__slider");e.appendChild(t.parentElement),countCartInMyList(e),addCart()}}));let myListBlock=document.getElementById("myList");myListBlock.addEventListener("click",(e=>{let t=e.target;if(t.parentElement.classList.contains("wireframe__element")){let e=t.parentElement.lastElementChild.textContent,n=document.querySelectorAll(".wireframe__circle");for(let l=0;l<n.length;l++){let r=n[l];if(r.id===e){let e=t.parentElement.firstElementChild.textContent,n=t.parentElement.lastElementChild.textContent;t.parentElement.remove();let l=parseInt(r.firstElementChild.textContent)+1;r.firstElementChild.textContent=l;let d=document.querySelector(".wireframe__slider");num>=d.children.length&&num--,countCartInMyList(d),challengeFinish(e,n);break}}}})),document.querySelector(".next-button").addEventListener("click",(e=>{e.preventDefault();let t=document.querySelector(".wireframe__slider");t.children.length>1?(t.appendChild(t.firstElementChild),num++,num==t.children.length+1&&(num=1),countCartInMyList(t)):console.error("404")})),document.querySelector(".prev-button").addEventListener("click",(e=>{e.preventDefault();let t=document.querySelector(".wireframe__slider");t.children.length>1?(t.prepend(t.lastElementChild),num--,0==num&&(num=t.children.length),countCartInMyList(t)):console.error("404")})),document.querySelector(".wireframe__title").addEventListener("click",(()=>{document.querySelectorAll(".choice>.wireframe__element").forEach((e=>{e.remove(),addCart()}))}));