const boredApi="https://www.boredapi.com/api/activity",choice=document.querySelector(".choice"),cartTexts=document.querySelectorAll(".choice>.wireframe__element>.wireframe__text"),cartTypes=document.querySelectorAll(".choice>.wireframe__element>.wireframe__comment"),prevButton=document.querySelector(".prev-button"),nextButton=document.querySelector(".next-button"),sliderDiv=document.querySelector(".wireframe__slider"),sliderNumber=document.querySelector(".wireframe__number"),titleButton=document.querySelector(".wireframe__title");let recreationalNumber,socialNumber,educationNumber,musicNumber,relaxationNumber,busyworkNumber,charityNumber,cookingNumber,diyNumber,radius=document.querySelector(".radius"),radiusChildren=radius.children,titleCompleted=document.querySelector(".title_text"),typeCompleted=document.querySelector(".type_text"),numberCompleted=document.querySelector(".number_text"),sumComp=1,number=1;Boolean(localStorage.getItem("number"))?(recreationalNumber=localStorage.getItem("number")[0],socialNumber=localStorage.getItem("number")[2],educationNumber=localStorage.getItem("number")[4],musicNumber=localStorage.getItem("number")[6],relaxationNumber=localStorage.getItem("number")[8],busyworkNumber=localStorage.getItem("number")[10],charityNumber=localStorage.getItem("number")[12],cookingNumber=localStorage.getItem("number")[14],diyNumber=localStorage.getItem("number")[16]):(recreationalNumber=0,socialNumber=0,educationNumber=0,musicNumber=0,relaxationNumber=0,busyworkNumber=0,charityNumber=0,cookingNumber=0,diyNumber=0);let achNumber=[recreationalNumber,socialNumber,educationNumber,musicNumber,relaxationNumber,busyworkNumber,charityNumber,cookingNumber,diyNumber];if(Boolean(localStorage.getItem("completedTitle")))var completedTitle=[localStorage.getItem("completedTitle")];else completedTitle=[];if(Boolean(localStorage.getItem("completedType")))var completedType=[localStorage.getItem("completedType")];else completedType=[];async function fetchChoice(){for(let r of document.querySelectorAll(".choice>.wireframe__element")){let t=await fetch(boredApi),l=await t.json(),{activity:i,type:n}=l;function e(){sliderDiv.innerHTML+=`<div class="wireframe__element">\n                    <div class="wireframe__text">\n                        ${i}\n                    </div>\n                    <div class="wireframe__comment">\n                        ${n}\n                    </div>\n                </div>`,r.remove(),sliderNumber.innerHTML=`${number} / ${sliderDiv.children.length}`,sliderAdd()}r.firstElementChild.innerHTML=i,r.lastElementChild.innerHTML=n,r.addEventListener("click",e)}}function sliderAdd(){for(let e of document.querySelectorAll(".wireframe__slider>.wireframe__element")){let r=e.lastElementChild.textContent.replace(/[^a-zа-яё]/gi,""),t=[sliderDiv].map((e=>e.innerHTML));localStorage.setItem("sliderBlocks",t),e.addEventListener("click",(function(){e.remove(),t=[sliderDiv].map((e=>e.innerHTML)),localStorage.setItem("sliderBlocks",t),achNumber=[recreationalNumber,socialNumber,educationNumber,musicNumber,relaxationNumber,busyworkNumber,charityNumber,cookingNumber,diyNumber],localStorage.setItem("number",achNumber),completedTitle.push(e.firstElementChild.innerHTML),localStorage.setItem("completedTitle",completedTitle),completedType.push(e.lastElementChild.innerHTML),localStorage.setItem("completedType",completedType),radiusChildren[0].lastElementChild.classList.contains(`${r}`)?(++recreationalNumber,radiusChildren[0].firstElementChild.innerHTML=localStorage.getItem("number")[0]):radiusChildren[1].lastElementChild.classList.contains(`${r}`)?(++socialNumber,radiusChildren[1].firstElementChild.innerHTML=localStorage.getItem("number")[2]):radiusChildren[2].lastElementChild.classList.contains(`${r}`)?(++educationNumber,radiusChildren[2].firstElementChild.innerHTML=localStorage.getItem("number")[4]):radiusChildren[3].lastElementChild.classList.contains(`${r}`)?(++musicNumber,radiusChildren[3].firstElementChild.innerHTML=localStorage.getItem("number")[6]):radiusChildren[4].lastElementChild.classList.contains(`${r}`)?(++relaxationNumber,radiusChildren[4].firstElementChild.innerHTML=localStorage.getItem("number")[8]):radiusChildren[5].lastElementChild.classList.contains(`${r}`)?(++busyworkNumber,radiusChildren[5].firstElementChild.innerHTML=localStorage.getItem("number")[10]):radiusChildren[6].lastElementChild.classList.contains(`${r}`)?(++charityNumber,radiusChildren[6].firstElementChild.innerHTML=localStorage.getItem("number")[12]):radiusChildren[7].lastElementChild.classList.contains(`${r}`)?(++cookingNumber,radiusChildren[7].firstElementChild.innerHTML=localStorage.getItem("number")[14]):radiusChildren[8].lastElementChild.classList.contains(`${r}`)?(++diyNumber,radiusChildren[8].firstElementChild.innerHTML=localStorage.getItem("number")[16]):alert("ERROR"),localStorage.setItem("number",achNumber),number--,number<=0&&(number=1),sliderNumber.innerHTML=`${number} / ${sliderDiv.children.length}`}))}}titleButton.addEventListener("click",(function(){choice.innerHTML+='<div class="wireframe__element">\n            <div class="wireframe__text">\n        \n            </div>\n            <div class="wireframe__comment">\n        \n            </div>\n        </div>',fetchChoice()})),sliderDiv.innerHTML=localStorage.getItem("sliderBlocks"),Boolean(localStorage.getItem("number"))&&(radiusChildren[0].firstElementChild.innerHTML=localStorage.getItem("number")[0],radiusChildren[1].firstElementChild.innerHTML=localStorage.getItem("number")[2],radiusChildren[2].firstElementChild.innerHTML=localStorage.getItem("number")[4],radiusChildren[3].firstElementChild.innerHTML=localStorage.getItem("number")[6],radiusChildren[4].firstElementChild.innerHTML=localStorage.getItem("number")[8],radiusChildren[5].firstElementChild.innerHTML=localStorage.getItem("number")[10],radiusChildren[6].firstElementChild.innerHTML=localStorage.getItem("number")[12],radiusChildren[7].firstElementChild.innerHTML=localStorage.getItem("number")[14],radiusChildren[8].firstElementChild.innerHTML=localStorage.getItem("number")[16]),fetchChoice(),sliderAdd(),nextButton.addEventListener("click",(function(e){e.preventDefault(),sliderDiv.children.length>1?(sliderDiv.append(sliderDiv.firstElementChild),number++,number==sliderDiv.children.length+1&&(number=1),sliderNumber.innerHTML=`${number} / ${sliderDiv.children.length}`):console.error("404")})),prevButton.addEventListener("click",(function(e){e.preventDefault(),sliderDiv.children.length>1?(sliderDiv.prepend(sliderDiv.lastElementChild),number--,0==number&&(number=sliderDiv.children.length),sliderNumber.innerHTML=`${number} / ${sliderDiv.children.length}`):console.error("404")})),sliderNumber.insertAdjacentHTML("beforeend",`${number} / ${sliderDiv.children.length}`);for(const e of localStorage.getItem("completedTitle").split(","))titleCompleted.innerHTML+=`<div>${e}</div>`,numberCompleted.innerHTML+=`<div>${sumComp++}</div>`;for(const e of localStorage.getItem("completedType").split(","))typeCompleted.innerHTML+=`<div>${e}</div>`;